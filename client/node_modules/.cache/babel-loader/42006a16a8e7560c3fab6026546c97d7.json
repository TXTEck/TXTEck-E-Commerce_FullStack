{"ast":null,"code":"var _jsxFileName = \"C:\\\\nodejs_projects\\\\E-Commerce\\\\TXTEck-E-Commerce_FullStack-1\\\\client\\\\src\\\\components\\\\ViewUsers.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { SERVER_HOST, ACCESS_LEVEL_ADMIN } from '../config/global_constants';\nimport '../css/userlist.css';\nexport default class ViewUsers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteUser = userId => {\n      axios.delete(\"\".concat(SERVER_HOST, \"/users/\").concat(userId), {\n        headers: {\n          \"authorization\": localStorage.token\n        }\n      }).then(response => {\n        if (response.data.success) {\n          this.setState({\n            users: this.state.users.filter(user => user._id !== userId)\n          });\n          console.log(\"User deleted\");\n        } else {\n          console.log(\"Error deleting user\");\n        }\n      }).catch(error => {\n        console.error(\"Error:\", error);\n      });\n    };\n\n    this.state = {\n      users: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"Users List\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, this.state.users.map(user => React.createElement(\"div\", {\n      key: user._id,\n      id: \"user-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, user.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"Email: \", user.email), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"address: \", user.address), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Access Level: \", user.accessLevel), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Profile Photo: \", user.profilePhoto), React.createElement(\"button\", {\n      onClick: () => this.deleteUser(user._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Delete User\")))), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Back\"));\n  }\n\n}","map":{"version":3,"sources":["C:\\nodejs_projects\\E-Commerce\\TXTEck-E-Commerce_FullStack-1\\client\\src\\components\\ViewUsers.js"],"names":["React","Component","axios","Link","SERVER_HOST","ACCESS_LEVEL_ADMIN","ViewUsers","constructor","props","deleteUser","userId","delete","headers","localStorage","token","then","response","data","success","setState","users","state","filter","user","_id","console","log","catch","error","render","map","name","email","address","accessLevel","profilePhoto"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,WAAT,EAAsBC,kBAAtB,QAAgD,4BAAhD;AACA,OAAO,qBAAP;AAEA,eAAe,MAAMC,SAAN,SAAwBL,SAAxB,CAAkC;AAC7CM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAKnBC,UALmB,GAKLC,MAAD,IAAY;AACrBR,MAAAA,KAAK,CAACS,MAAN,WAAgBP,WAAhB,oBAAqCM,MAArC,GAA+C;AAC3CE,QAAAA,OAAO,EAAE;AAAC,2BAAiBC,YAAY,CAACC;AAA/B;AADkC,OAA/C,EAEGC,IAFH,CAEQC,QAAQ,IAAI;AAChB,YAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAjB,EAA0B;AACtB,eAAKC,QAAL,CAAc;AAAEC,YAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAAX,CAAiBE,MAAjB,CAAwBC,IAAI,IAAIA,IAAI,CAACC,GAAL,KAAad,MAA7C;AAAT,WAAd;AACAe,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH,SAHD,MAGO;AACHD,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACH;AACJ,OATD,EASGC,KATH,CASSC,KAAK,IAAI;AACdH,QAAAA,OAAO,CAACG,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACH,OAXD;AAYH,KAlBkB;;AAEf,SAAKP,KAAL,GAAa;AAAED,MAAAA,KAAK,EAAE;AAAT,KAAb;AACH;;AAiBDS,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKR,KAAL,CAAWD,KAAX,CAAiBU,GAAjB,CAAqBP,IAAI,IACtB;AAAK,MAAA,GAAG,EAAEA,IAAI,CAACC,GAAf;AAAoB,MAAA,EAAE,EAAC,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,IAAI,CAACQ,IAAV,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAWR,IAAI,CAACS,KAAhB,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAaT,IAAI,CAACU,OAAlB,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAkBV,IAAI,CAACW,WAAvB,CAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAmBX,IAAI,CAACY,YAAxB,CALJ,EAMI;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAK1B,UAAL,CAAgBc,IAAI,CAACC,GAArB,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBANJ,CADH,CADL,CAFJ,EAcI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAdJ,CADJ;AAkBH;;AAxC4C","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { SERVER_HOST, ACCESS_LEVEL_ADMIN } from '../config/global_constants';\r\nimport '../css/userlist.css';\r\n\r\nexport default class ViewUsers extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { users: [] };\r\n    }\r\n\r\n    deleteUser = (userId) => {\r\n        axios.delete(`${SERVER_HOST}/users/${userId}`, {\r\n            headers: {\"authorization\": localStorage.token}\r\n        }).then(response => {\r\n            if(response.data.success) {\r\n                this.setState({ users: this.state.users.filter(user => user._id !== userId) });\r\n                console.log(\"User deleted\");\r\n            } else {\r\n                console.log(\"Error deleting user\");\r\n            }\r\n        }).catch(error => {\r\n            console.error(\"Error:\", error);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Users List</h2>\r\n                <div>\r\n                    {this.state.users.map(user => (\r\n                        <div key={user._id} id=\"user-card\">\r\n                            <h3>{user.name}</h3>\r\n                            <p>Email: {user.email}</p>\r\n                            <p>address: {user.address}</p>\r\n                            <p>Access Level: {user.accessLevel}</p>\r\n                            <p>Profile Photo: {user.profilePhoto}</p>\r\n                            <button onClick={() => this.deleteUser(user._id)}>Delete User</button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <Link to=\"/\">Back</Link>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}